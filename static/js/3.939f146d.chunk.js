(this["webpackJsonpfirst-react-project"]=this["webpackJsonpfirst-react-project"]||[]).push([[3],{295:function(t,e,a){t.exports={description:"ProfileInfo_description__18oDG",info:"ProfileInfo_info__1miKu"}},296:function(t,e,a){t.exports={postsBlock:"MyPosts_postsBlock__3kdEZ",posts:"MyPosts_posts__I6ZnD",textForm:"MyPosts_textForm__1BC6u",buttonSend:"MyPosts_buttonSend__2HGTP",textArea:"MyPosts_textArea__2ILq8"}},297:function(t,e,a){t.exports={item:"Post_item__15edI"}},298:function(t,e,a){"use strict";a.r(e);var s=a(35),n=a(36),r=a(38),o=a(37),u=a(0),i=a.n(u),l=a(295),c=a.n(l),p=a(40),m=a.n(p),f=a(133),d=function(t){var e=Object(u.useState)(!1),a=Object(f.a)(e,2),s=a[0],n=a[1],r=Object(u.useState)(t.status),o=Object(f.a)(r,2),l=o[0],c=o[1];Object(u.useEffect)((function(){c(t.status)}),[t.status]);return i.a.createElement("div",null,!s&&i.a.createElement("div",null,"Status:"," ",i.a.createElement("span",{onDoubleClick:function(){n(!0)}},t.status||"Write your status...")),s&&i.a.createElement("div",null,i.a.createElement("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(l)},value:l})))},h=function(t){var e=t.profile,a=t.status,s=t.updateStatus,n=t.isOwner,r=t.savePhoto;return i.a.createElement("div",null,i.a.createElement("div",{className:c.a.description},i.a.createElement("img",{src:e.photos.large||m.a,alt:""}),i.a.createElement("div",{className:c.a.info},i.a.createElement("h3",null,e.fullName),i.a.createElement("div",null,"Date of Birth: 20th of April",i.a.createElement("br",null)," Education: ",e.contacts.vk,i.a.createElement(d,{status:a,updateStatus:s})))),i.a.createElement("div",null,n&&i.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&r(t.target.files[0])}})))},E=a(99),v=a(41),b=a(296),P=a.n(b),_=a(297),g=a.n(_),O=function(t){return i.a.createElement("div",null,i.a.createElement("div",{className:g.a.item},i.a.createElement("img",{src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png",alt:""}),t.text,i.a.createElement("br",null),i.a.createElement("span",null,t.likesCount," \u2665")))},j=a(131),y=a(132),S=a(77),x=a(76),k=i.a.memo((function(t){var e=Object(v.a)(t.posts).reverse().map((function(t){return i.a.createElement(O,{text:t.text,likesCount:t.likesCount})}));return i.a.createElement("div",{className:P.a.postsBlock},i.a.createElement("h3",null,"My posts"),i.a.createElement(w,{onSubmit:function(e){t.addPost(e.newPostBody)}}),i.a.createElement("div",{className:P.a.posts},e))})),I=Object(S.a)(10),w=Object(y.a)({form:"profileAddNewPostForm"})((function(t){return i.a.createElement("form",{className:P.a.textForm,onSubmit:t.handleSubmit},i.a.createElement(j.a,{className:P.a.textArea,component:x.b,name:"newPostBody",placeholder:"Write post text...",validate:[S.b,I]}),i.a.createElement("button",{className:P.a.buttonSend},"Add post"))})),N=k,A=a(12),B=Object(A.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(E.a)(e))}}}))(N),C=function(t){return i.a.createElement("div",null,i.a.createElement(h,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus}),i.a.createElement(B,null))},M=a(10),D=a(9),F=a(92),U=function(t){Object(r.a)(a,t);var e=Object(o.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.profile?i.a.createElement(C,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,savePhoto:this.props.savePhoto})):i.a.createElement(F.a,null)}}]),a}(i.a.Component);e.default=Object(D.compose)(Object(A.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:E.d,getStatus:E.c,updateStatus:E.f,savePhoto:E.e}),M.g)(U)}}]);
//# sourceMappingURL=3.939f146d.chunk.js.map